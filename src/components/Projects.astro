---
import { useTranslations } from '../i18n/utils';
import { projects } from '../data/projects';
import ProjectCard from './ProjectCard.astro';

export interface Props {
  lang: 'pt' | 'en';
}

const { lang } = Astro.props;
const t = useTranslations(lang);

// Get featured projects
const featuredProjects = projects.filter(p => p.featured);

// Get all unique tags for filter
const allTags = [...new Set(projects.flatMap(p => p.tags))];
---

<section id="projects" class="py-24 bg-gradient-to-b from-white to-gray-50 dark:from-gray-900 dark:to-gray-800">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl">
    <!-- Section Header -->
    <div class="text-center mb-16">
      <h2 class="text-4xl sm:text-5xl font-bold text-gray-900 dark:text-white mb-4">
        {t('projects.title')}
      </h2>
      <div class="w-24 h-1.5 bg-gradient-to-r from-blue-600 to-indigo-600 mx-auto mb-6 rounded-full"></div>
      <p class="text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
        {lang === 'pt'
          ? 'Projetos selecionados que demonstram experiÃªncia em desenvolvimento full-stack, IA e arquitetura de sistemas'
          : 'Selected projects showcasing expertise in full-stack development, AI, and system architecture'
        }
      </p>
    </div>

    <!-- Projects Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
      {featuredProjects.map(project => (
        <ProjectCard project={project} lang={lang} />
      ))}
    </div>

    <!-- View All Projects CTA -->
    {projects.length > featuredProjects.length && (
      <div class="text-center mt-12">
        <p class="text-gray-600 dark:text-gray-400">
          {lang === 'pt'
            ? `Mostrando ${featuredProjects.length} de ${projects.length} projetos`
            : `Showing ${featuredProjects.length} of ${projects.length} projects`
          }
        </p>
      </div>
    )}
  </div>
</section>

